{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t){!function(){const e=document.querySelector(\".places-list\"),t=document.querySelector(\"#popupadd\"),n=document.querySelector(\".imagepopup\"),o=document.querySelector(\"#popupedit\"),r=document.querySelector(\".user-info__name\"),u=document.querySelector(\".user-info__job\"),c=document.querySelector(\".user-info__photo\"),a=new UserInfo(r,u),i=new Api({baseUrl:\"https://praktikum.tk/cohort11\",headers:{authorization:\"c0e103a1-800b-46bf-b7a3-9cc40f123c72\",\"Content-Type\":\"application/json\"}});function l(e){if(e.target.classList.contains(\"place-card__image\")){const t=new Popup(n);this.removeEventListener(\"click\",l);const o=document.querySelector(\"#image\"),r=e.target.getAttribute(\"style\").split(\"'\")[1];o.setAttribute(\"src\",r),t.open()}}function p(){new Popup(t).close()}function d(){const e=new Popup(o);e.popup.querySelector(\".popup__input_type_name\").value=a.nameValue,e.popup.querySelector(\".popup__input_type_link-url\").value=a.jobValue,f.reserError(),e.open()}!function(t){t.getInitialCards().then(t=>{const n=t.map((function(e){return new Card(e.name,e.link)}));new CardList(e,n).render()}).catch(e=>{console.log(e)})}(i),i.getUserInfoLoad().then(e=>{a.setUserInfo(e.name,e.about),a.updateUserInfo(),c.setAttribute(\"style\",\"background-image:url('\"+e.avatar+\"');\")}).catch(e=>{console.log(e)}),document.addEventListener(\"click\",l),document.addEventListener(\"click\",(function(e){if(\"popupimgclose\"===e.target.id){new Popup(n).close(),document.addEventListener(\"click\",l)}})),document.querySelector(\"#popupaddopen\").addEventListener(\"click\",(function(){const e=new Popup(t);s.reserError(),e.open()})),document.querySelector(\".popup__close\").addEventListener(\"click\",p),document.querySelector(\"#userinfoeditbutton\").addEventListener(\"click\",d),document.querySelector(\"#popupeditclosebutton\").addEventListener(\"click\",d),document.forms.new.addEventListener(\"submit\",(function(t){t.preventDefault();const n=t.target.name.value,o=t.target.link.value,r=new Card(n,o);e.appendChild(r.create()),p(),t.target.reset()})),document.forms.edit.addEventListener(\"submit\",(function(e){e.preventDefault();let t=e.target.name.value,n=e.target.job.value;i.getRenameUser(t,n).then(t=>{a.setUserInfo(t.name,t.about),a.updateUserInfo(),new Popup(o).close(),e.target.reset()}).catch(e=>{console.log(e)})}));const s=new FormValidator(document.forms.new),f=new FormValidator(document.forms.edit);s.valid(),f.valid()}()}]);","extractedComments":[]}